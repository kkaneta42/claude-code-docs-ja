> ## Documentation Index
> Fetch the complete documentation index at: https://code.claude.com/docs/llms.txt
> Use this file to discover all available pages before exploring further.

# インタラクティブモード

> Claude Code セッションのキーボードショートカット、入力モード、インタラクティブ機能の完全なリファレンス。

## キーボードショートカット

<Note>
  キーボードショートカットはプラットフォームとターミナルによって異なる場合があります。`?` を押すと、お使いの環境で利用可能なショートカットが表示されます。

  **macOS ユーザー**: Option/Alt キーショートカット（`Alt+B`、`Alt+F`、`Alt+Y`、`Alt+M`、`Alt+P`）を使用するには、ターミナルで Option を Meta として設定する必要があります。

  * **iTerm2**: 設定 → プロファイル → キー → 左/右 Option キーを「Esc+」に設定
  * **Terminal.app**: 設定 → プロファイル → キーボード → 「Option キーを Meta として使用」をチェック
  * **VS Code**: 設定 → プロファイル → キー → 左/右 Option キーを「Esc+」に設定

  詳細は [ターミナル設定](/ja/terminal-config) を参照してください。
</Note>

### 一般的なコントロール

| ショートカット                                          | 説明                   | コンテキスト                                                               |
| :----------------------------------------------- | :------------------- | :------------------------------------------------------------------- |
| `Ctrl+C`                                         | 現在の入力または生成をキャンセル     | 標準割り込み                                                               |
| `Ctrl+D`                                         | Claude Code セッションを終了 | EOF シグナル                                                             |
| `Ctrl+G`                                         | デフォルトテキストエディタで開く     | プロンプトまたはカスタム応答をデフォルトテキストエディタで編集                                      |
| `Ctrl+L`                                         | ターミナル画面をクリア          | 会話履歴は保持                                                              |
| `Ctrl+O`                                         | 詳細出力を切り替え            | ツール使用と実行の詳細を表示                                                       |
| `Ctrl+R`                                         | コマンド履歴を逆順検索          | 前のコマンドをインタラクティブに検索                                                   |
| `Ctrl+V` または `Cmd+V`（iTerm2）または `Alt+V`（Windows） | クリップボードから画像を貼り付け     | 画像またはイメージファイルへのパスを貼り付け                                               |
| `Ctrl+B`                                         | バックグラウンドで実行中のタスク     | bash コマンドとエージェントをバックグラウンドで実行。Tmux ユーザーは 2 回押す                        |
| `左/右矢印`                                          | ダイアログタブを循環           | 権限ダイアログとメニューのタブ間を移動                                                  |
| `上/下矢印`                                          | コマンド履歴を移動            | 前の入力を呼び出し                                                            |
| `Esc` + `Esc`                                    | コード/会話を巻き戻す          | コードおよび/または会話を前の状態に復元                                                 |
| `Shift+Tab` または `Alt+M`（一部の設定）                   | 権限モードを切り替え           | 自動受け入れモード、Plan Mode、通常モード間を切り替え                                      |
| `Option+P`（macOS）または `Alt+P`（Windows/Linux）      | モデルを切り替え             | プロンプトをクリアせずにモデルを切り替え                                                 |
| `Option+T`（macOS）または `Alt+T`（Windows/Linux）      | 拡張思考を切り替え            | 拡張思考モードを有効または無効にします。このショートカットを有効にするには、まず `/terminal-setup` を実行してください |

### テキスト編集

| ショートカット              | 説明             | コンテキスト                                                                           |
| :------------------- | :------------- | :------------------------------------------------------------------------------- |
| `Ctrl+K`             | 行末まで削除         | 削除されたテキストは貼り付け用に保存                                                               |
| `Ctrl+U`             | 行全体を削除         | 削除されたテキストは貼り付け用に保存                                                               |
| `Ctrl+Y`             | 削除されたテキストを貼り付け | `Ctrl+K` または `Ctrl+U` で削除されたテキストを貼り付け                                            |
| `Alt+Y`（`Ctrl+Y` の後） | 貼り付け履歴を循環      | 貼り付け後、以前に削除されたテキストを循環します。macOS では [Option を Meta として](#keyboard-shortcuts) 設定が必要 |
| `Alt+B`              | カーソルを 1 単語戻す   | 単語ナビゲーション。macOS では [Option を Meta として](#keyboard-shortcuts) 設定が必要                |
| `Alt+F`              | カーソルを 1 単語進める  | 単語ナビゲーション。macOS では [Option を Meta として](#keyboard-shortcuts) 設定が必要                |

### テーマと表示

| ショートカット  | 説明                  | コンテキスト                                                       |
| :------- | :------------------ | :----------------------------------------------------------- |
| `Ctrl+T` | コードブロックの構文強調表示を切り替え | `/theme` ピッカーメニュー内でのみ機能します。Claude の応答内のコードが構文色付けを使用するかどうかを制御 |

<Note>
  構文強調表示は Claude Code のネイティブビルドでのみ利用可能です。
</Note>

### 複数行入力

| 方法          | ショートカット        | コンテキスト                              |
| :---------- | :------------- | :---------------------------------- |
| クイック終了      | `\` + `Enter`  | すべてのターミナルで機能                        |
| macOS デフォルト | `Option+Enter` | macOS のデフォルト                        |
| Shift+Enter | `Shift+Enter`  | iTerm2、WezTerm、Ghostty、Kitty で標準で機能 |
| 制御シーケンス     | `Ctrl+J`       | 複数行用のラインフィード文字                      |
| ペーストモード     | 直接貼り付け         | コードブロック、ログ用                         |

<Tip>
  Shift+Enter は iTerm2、WezTerm、Ghostty、Kitty で設定なしで機能します。その他のターミナル（VS Code、Alacritty、Zed、Warp）の場合は、`/terminal-setup` を実行してバインディングをインストールしてください。
</Tip>

### クイックコマンド

| ショートカット | 説明          | 注記                                                     |
| :------ | :---------- | :----------------------------------------------------- |
| `/` で開始 | コマンドまたはスキル  | [組み込みコマンド](#built-in-commands) と [スキル](/ja/skills) を参照 |
| `!` で開始 | Bash モード    | コマンドを直接実行し、実行出力をセッションに追加                               |
| `@`     | ファイルパスメンション | ファイルパスオートコンプリートをトリガー                                   |

## 組み込みコマンド

組み込みコマンドは一般的なアクションのショートカットです。以下の表は一般的に使用されるコマンドをカバーしていますが、すべての利用可能なオプションではありません。Claude Code で `/` を入力すると完全なリストが表示されます。または `/` の後に任意の文字を入力してフィルタリングできます。

`/` で呼び出すことができる独自のコマンドを作成するには、[スキル](/ja/skills) を参照してください。

| コマンド                      | 目的                                                                                         |
| :------------------------ | :----------------------------------------------------------------------------------------- |
| `/clear`                  | 会話履歴をクリア                                                                                   |
| `/compact [instructions]` | オプションのフォーカス指示付きで会話をコンパクト化                                                                  |
| `/config`                 | 設定インターフェース（Config タブ）を開く                                                                   |
| `/context`                | 現在のコンテキスト使用状況をカラーグリッドとして視覚化                                                                |
| `/cost`                   | トークン使用統計を表示します。サブスクリプション固有の詳細については [コスト追跡ガイド](/ja/costs#using-the-cost-command) を参照してください。 |
| `/doctor`                 | Claude Code インストールの健全性をチェック                                                                |
| `/exit`                   | REPL を終了                                                                                   |
| `/export [filename]`      | 現在の会話をファイルまたはクリップボードにエクスポート                                                                |
| `/help`                   | 使用方法ヘルプを取得                                                                                 |
| `/init`                   | `CLAUDE.md` ガイドでプロジェクトを初期化                                                                 |
| `/mcp`                    | MCP サーバー接続と OAuth 認証を管理                                                                    |
| `/memory`                 | `CLAUDE.md` メモリファイルを編集                                                                     |
| `/model`                  | AI モデルを選択または変更                                                                             |
| `/permissions`            | [権限](/ja/iam#configuring-permissions) を表示または更新                                             |
| `/plan`                   | プロンプトから直接 Plan Mode に入る                                                                    |
| `/rename <name>`          | 現在のセッションの名前を変更して識別しやすくする                                                                   |
| `/resume [session]`       | ID または名前で会話を再開するか、セッションピッカーを開く                                                             |
| `/rewind`                 | 会話またはコードを巻き戻す                                                                              |
| `/stats`                  | 日次使用状況、セッション履歴、ストリーク、モデル設定を視覚化                                                             |
| `/status`                 | 設定インターフェース（Status タブ）を開く。バージョン、モデル、アカウント、接続性を表示                                            |
| `/statusline`             | Claude Code のステータスライン UI をセットアップ                                                           |
| `/tasks`                  | バックグラウンドタスクをリストおよび管理                                                                       |
| `/teleport`               | claude.ai からリモートセッションを再開（サブスクライバーのみ）                                                       |
| `/theme`                  | カラーテーマを変更                                                                                  |
| `/todos`                  | 現在の TODO アイテムをリスト                                                                          |
| `/usage`                  | サブスクリプションプランのみ: プラン使用制限とレート制限ステータスを表示                                                      |

### MCP プロンプト

MCP サーバーはコマンドとして表示されるプロンプトを公開できます。これらは `/mcp__<server>__<prompt>` 形式を使用し、接続されたサーバーから動的に検出されます。詳細は [MCP プロンプト](/ja/mcp#use-mcp-prompts-as-commands) を参照してください。

## Vim エディタモード

`/vim` コマンドで Vim スタイルの編集を有効にするか、`/config` で永続的に設定します。

### モード切り替え

| コマンド  | アクション         | モード    |
| :---- | :------------ | :----- |
| `Esc` | NORMAL モードに入る | INSERT |
| `i`   | カーソルの前に挿入     | NORMAL |
| `I`   | 行の開始に挿入       | NORMAL |
| `a`   | カーソルの後に挿入     | NORMAL |
| `A`   | 行の終了に挿入       | NORMAL |
| `o`   | 下に行を開く        | NORMAL |
| `O`   | 上に行を開く        | NORMAL |

### ナビゲーション（NORMAL モード）

| コマンド            | アクション                     |
| :-------------- | :------------------------ |
| `h`/`j`/`k`/`l` | 左/下/上/右に移動                |
| `w`             | 次の単語                      |
| `e`             | 単語の終了                     |
| `b`             | 前の単語                      |
| `0`             | 行の開始                      |
| `$`             | 行の終了                      |
| `^`             | 最初の空白以外の文字                |
| `gg`            | 入力の開始                     |
| `G`             | 入力の終了                     |
| `f{char}`       | 次の文字の出現位置にジャンプ            |
| `F{char}`       | 前の文字の出現位置にジャンプ            |
| `t{char}`       | 次の文字の出現位置の直前にジャンプ         |
| `T{char}`       | 前の文字の出現位置の直後にジャンプ         |
| `;`             | 最後の f/F/t/T モーションを繰り返す    |
| `,`             | 最後の f/F/t/T モーションを逆順で繰り返す |

### 編集（NORMAL モード）

| コマンド           | アクション           |
| :------------- | :-------------- |
| `x`            | 文字を削除           |
| `dd`           | 行を削除            |
| `D`            | 行末まで削除          |
| `dw`/`de`/`db` | 単語/終了まで/戻る を削除  |
| `cc`           | 行を変更            |
| `C`            | 行末まで変更          |
| `cw`/`ce`/`cb` | 単語/終了まで/戻る を変更  |
| `yy`/`Y`       | 行をヤンク（コピー）      |
| `yw`/`ye`/`yb` | 単語/終了まで/戻る をヤンク |
| `p`            | カーソルの後に貼り付け     |
| `P`            | カーソルの前に貼り付け     |
| `>>`           | 行をインデント         |
| `<<`           | 行をデデント          |
| `J`            | 行を結合            |
| `.`            | 最後の変更を繰り返す      |

### テキストオブジェクト（NORMAL モード）

テキストオブジェクトは `d`、`c`、`y` などのオペレータと連携します。

| コマンド      | アクション              |
| :-------- | :----------------- |
| `iw`/`aw` | 内部/周囲の単語           |
| `iW`/`aW` | 内部/周囲の WORD（空白区切り） |
| `i"`/`a"` | 内部/周囲のダブルクォート      |
| `i'`/`a'` | 内部/周囲のシングルクォート     |
| `i(`/`a(` | 内部/周囲の括弧           |
| `i[`/`a[` | 内部/周囲の角括弧          |
| `i{`/`a{` | 内部/周囲の波括弧          |

## コマンド履歴

Claude Code は現在のセッションのコマンド履歴を保持します。

* 履歴は作業ディレクトリごとに保存
* `/clear` コマンドでクリア
* 上/下矢印を使用してナビゲート（上記のキーボードショートカットを参照）
* **注記**: 履歴展開（`!`）はデフォルトで無効

### Ctrl+R での逆順検索

`Ctrl+R` を押してコマンド履歴をインタラクティブに検索します。

1. **検索を開始**: `Ctrl+R` を押して逆順履歴検索を有効化
2. **クエリを入力**: 前のコマンドで検索するテキストを入力 - 検索用語は一致する結果でハイライト表示
3. **一致をナビゲート**: `Ctrl+R` を再度押して古い一致を循環
4. **一致を受け入れ**:
   * `Tab` または `Esc` を押して現在の一致を受け入れ、編集を続行
   * `Enter` を押して一致を受け入れ、コマンドを即座に実行
5. **検索をキャンセル**:
   * `Ctrl+C` を押して検索をキャンセルし、元の入力を復元
   * 空の検索で `Backspace` を押してキャンセル

検索は一致するコマンドを検索用語がハイライト表示された状態で表示し、前の入力を簡単に見つけて再利用できます。

## バックグラウンド bash コマンド

Claude Code はバックグラウンドで bash コマンドを実行することをサポートしており、長時間実行されるプロセスが実行されている間も作業を続けることができます。

### バックグラウンド実行の仕組み

Claude Code がコマンドをバックグラウンドで実行する場合、コマンドを非同期で実行し、すぐにバックグラウンドタスク ID を返します。Claude Code は、コマンドがバックグラウンドで実行され続けている間、新しいプロンプトに応答できます。

コマンドをバックグラウンドで実行するには、以下のいずれかを実行できます。

* Claude Code にコマンドをバックグラウンドで実行するよう指示
* Ctrl+B を押して、通常の Bash ツール呼び出しをバックグラウンドに移動。（Tmux ユーザーは tmux のプレフィックスキーのため Ctrl+B を 2 回押す必要があります。）

**主な機能:**

* 出力はバッファリングされ、Claude は TaskOutput ツールを使用して取得できます
* バックグラウンドタスクは追跡と出力取得用に一意の ID を持ちます
* バックグラウンドタスクは Claude Code 終了時に自動的にクリーンアップ

すべてのバックグラウンドタスク機能を無効にするには、`CLAUDE_CODE_DISABLE_BACKGROUND_TASKS` 環境変数を `1` に設定します。詳細は [環境変数](/ja/settings#environment-variables) を参照してください。

**一般的なバックグラウンド実行コマンド:**

* ビルドツール（webpack、vite、make）
* パッケージマネージャー（npm、yarn、pnpm）
* テストランナー（jest、pytest）
* 開発サーバー
* 長時間実行プロセス（docker、terraform）

### `!` プレフィックス付き Bash モード

入力に `!` をプレフィックスして、Claude を経由せずに bash コマンドを直接実行します。

```bash  theme={null}
! npm test
! git status
! ls -la
```

Bash モード:

* コマンドとその出力を会話コンテキストに追加
* リアルタイムの進捗と出力を表示
* 長時間実行コマンド用に同じ `Ctrl+B` バックグラウンド実行をサポート
* Claude がコマンドを解釈または承認する必要がない
* 履歴ベースのオートコンプリートをサポート: 部分的なコマンドを入力し、**Tab** を押して現在のプロジェクトの前の `!` コマンドから完成

これは会話コンテキストを保持しながら、クイックシェル操作に便利です。

## タスクリスト

複雑なマルチステップ作業に取り組む場合、Claude はタスクリストを作成して進捗を追跡します。タスクはターミナルのステータス領域に表示され、保留中、進行中、完了を示すインジケータが表示されます。

* `Ctrl+T` を押してタスクリストビューを切り替え。表示は一度に最大 10 個のタスクを表示
* すべてのタスクを表示またはクリアするには、Claude に直接尋ねます。「すべてのタスクを表示」または「すべてのタスクをクリア」
* タスクはコンテキストコンパクション全体で保持され、Claude がより大規模なプロジェクトで整理された状態を保つのに役立ちます
* タスクリストをセッション間で共有するには、`CLAUDE_CODE_TASK_LIST_ID` を `~/.claude/tasks/` の名前付きディレクトリに使用するように設定します。`CLAUDE_CODE_TASK_LIST_ID=my-project claude`

## 関連項目

* [スキル](/ja/skills) - カスタムプロンプトとワークフロー
* [チェックポイント](/ja/checkpointing) - Claude の編集を巻き戻し、前の状態を復元
* [CLI リファレンス](/ja/cli-reference) - コマンドラインフラグとオプション
* [設定](/ja/settings) - 設定オプション
* [メモリ管理](/ja/memory) - CLAUDE.md ファイルの管理
